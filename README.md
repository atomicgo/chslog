<h1 align="center">AtomicGo | chslog</h1>

<p align="center">
<img src="https://img.shields.io/endpoint?url=https%3A%2F%2Fatomicgo.dev%2Fapi%2Fshields%2Fchslog&style=flat-square" alt="Downloads">

<a href="https://github.com/atomicgo/chslog/releases">
<img src="https://img.shields.io/github/v/release/atomicgo/chslog?style=flat-square" alt="Latest Release">
</a>

<a href="https://codecov.io/gh/atomicgo/chslog" target="_blank">
<img src="https://img.shields.io/github/actions/workflow/status/atomicgo/chslog/go.yml?style=flat-square" alt="Tests">
</a>

<a href="https://codecov.io/gh/atomicgo/chslog" target="_blank">
<img src="https://img.shields.io/codecov/c/gh/atomicgo/chslog?color=magenta&logo=codecov&style=flat-square" alt="Coverage">
</a>

<a href="https://codecov.io/gh/atomicgo/chslog">
<!-- unittestcount:start --><img src="https://img.shields.io/badge/Unit_Tests-0-magenta?style=flat-square" alt="Unit test count"><!-- unittestcount:end -->
</a>

<a href="https://opensource.org/licenses/MIT" target="_blank">
<img src="https://img.shields.io/badge/License-MIT-yellow.svg?style=flat-square" alt="License: MIT">
</a>
  
<a href="https://goreportcard.com/report/github.com/atomicgo/chslog" target="_blank">
<img src="https://goreportcard.com/badge/github.com/atomicgo/chslog?style=flat-square" alt="Go report">
</a>   

</p>

---

<p align="center">
<strong><a href="https://pkg.go.dev/atomicgo.dev/chslog#section-documentation" target="_blank">Documentation</a></strong>
|
<strong><a href="https://github.com/atomicgo/atomicgo/blob/main/CONTRIBUTING.md" target="_blank">Contributing</a></strong>
|
<strong><a href="https://github.com/atomicgo/atomicgo/blob/main/CODE_OF_CONDUCT.md" target="_blank">Code of Conduct</a></strong>
</p>

---

<p align="center">
  <img src="https://raw.githubusercontent.com/atomicgo/atomicgo/main/assets/header.png" alt="AtomicGo">
</p>

<p align="center">
<table>
<tbody>
</tbody>
</table>
</p>
<h3  align="center"><pre>go get atomicgo.dev/chslog</pre></h3>
<p align="center">
<table>
<tbody>
</tbody>
</table>
</p>

<!-- gomarkdoc:embed:start -->

<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# chslog

```go
import "atomicgo.dev/chslog"
```

Package chslog provides a simple way to set up a logger that automatically chooses between a production and a development logger.

Example:

```
func main() {
	// Uses a text logger in development and a JSON logger in production.
	prodHandler := slog.NewJSONHandler(os.Stdout, nil)
	devHandler := slog.NewTextHandler(os.Stdout, nil)

	handler := slogch.Choose(prodHandler, devHandler)
	logger := slog.New(handler)

	logger.Info("Hello, World!", "foo", "bar")
	// Prod: {"time":"2023-08-03T01:31:27.6681464+02:00","level":"INFO","msg":"Hello, World!","foo":"bar"}
	// Dev:  time=2023-08-03T01:30:23.438+02:00 level=INFO msg="Hello, World!" foo=bar
}
```

## Index

- [Variables](<#variables>)
- [func Choose\(prodHandler, devHandler slog.Handler\) slog.Handler](<#Choose>)


## Variables

<a name="Conditions"></a>Conditions holds the environment conditions that are checked. By default, it checks for the most common environments with https://atomicgo.dev/isprod. See https://pkg.go.dev/atomicgo.dev/isprod#Conditions for more info, on how to configure them \(if needed\).

```go
var Conditions = isprod.DefaultConditions
```

<a name="Choose"></a>
## func [Choose](<https://github.com/atomicgo/chslog/blob/main/slogch.go#L14>)

```go
func Choose(prodHandler, devHandler slog.Handler) slog.Handler
```

Choose automatically chooses between prodHandler and devHandler.

<details><summary>Example</summary>
<p>



```go
package main

import (
	slogch "atomicgo.dev/chslog"
	"log/slog"
	"os"
)

func main() {
	// Uses a text logger in development and a JSON logger in production.
	prodHandler := slog.NewJSONHandler(os.Stdout, nil)
	devHandler := slog.NewTextHandler(os.Stdout, nil)

	handler := slogch.Choose(prodHandler, devHandler)
	logger := slog.New(handler)

	logger.Info("Hello, World!", "foo", "bar")
}
```

</p>
</details>

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- gomarkdoc:embed:end -->

---

> [AtomicGo.dev](https://atomicgo.dev) &nbsp;&middot;&nbsp;
> with ❤️ by [@MarvinJWendt](https://github.com/MarvinJWendt) |
> [MarvinJWendt.com](https://marvinjwendt.com)
